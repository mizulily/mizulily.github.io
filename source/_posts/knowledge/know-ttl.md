---
title: TTL字段
date: 2019-04-17 14:43:33
tags:
  - network
hide: true
end: true
---

TTL全称是**生存时间**(Time-to-Live)，在IP和ICMP协议中均包含该字段。
当我们对网络上的主机进行ping操作的时候，我们本地机器会发出一个数据包，数据包经过一定数量的路由器传送到目的主机，但是由于很多的原因，一些数据包不能正常传送到目的主机，那如果不给这些数据包一个生存时间的话，这些数据包会一直在网络上传送，导致网络开销的增大。当数据包传送到一个路由器之后，TTL就自动减1，如果减到0了还是没有传送到目的主机，那么就自动丢失。
最新的Windows系统初始值为TTL=128，Linux系统初始值为TTL=64/255。在进行ping操作时，返回的TTL是经过路由递减后的TTL，因此若ping返回的TTL=51，那么可以推测到目的主机经过了64-51=13个路由，且目的主机可能为Linux系统。
可以使用tracert命令查看到达目标主机经过的所有路由节点，通常超过30个节点还没有完成跟踪的网站被认为是无法访问的。